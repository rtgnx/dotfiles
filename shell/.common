# vim: ft=sh

cd $HOME/.dotfiles && git pull; cd $HOME

# Set environment variables
export $(grep -v '^#' "$HOME/.env" | xargs)
[ -f "$HOME/.aliases" ] && source $HOME/.aliases
[ -f "$(command -v starship)" ] && eval "$(starship init $(basename $SHELL))"


# Start ssh-agent if not running
if ! pgrep -u "$USER" ssh-agent > /dev/null; then
    eval "$(ssh-agent -s)"
fi

# Add key if not already added
ssh-add -l >/dev/null 2>&1 || ssh-add ~/.ssh/vault


if [ -f "$(command -v eza)" ]; then
  alias ls="eza"
  alias ll="eza -lrh"
  alias la="eza -larh"
fi


if [ -f "$(command -v vsv)" ]; then
  alias vsv="sudo vsv"
fi


ufetch
